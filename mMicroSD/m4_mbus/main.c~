#include "mGeneral.h"
#include "mBus.h"
#include "mUSB.h"

#define mBusSlaveAddr 0x40

#define LED_DELAY 10000000

void main(void)
{
	mInit();
	mBusInit();
	mUSBInit();

	while(1)
	{
		
		mBlueON;
		mWait (LED_DELAY);
		mBlueOFF;
		
		mGreenON;
		mWait (LED_DELAY);
		mGreenOFF;
		
		mRedON;
		mWait (LED_DELAY);
		mRedOFF;
		
		mYellowON;
		mWait (LED_DELAY);
		mYellowOFF;
		
		mWhiteON;
		mWait (LED_DELAY);
		mWhiteOFF;
		
		/*
		uint8_t data;
		//check if the slave is present on the bus or not
		data = mBusPeriphReady(mBusSlaveAddr);
		mWhite(data); //white on means slave is present on bus 
		if(data)
		{
			data = 0x00;
			//register address for writing is 0x00
			data = mBusWrite(mBusSlaveAddr,0x00,data);
			mRed(data);//red on means successful write to slave
			data = 0xF0;
			//register address is 0x12
			data = mBusWrite(mBusSlaveAddr,0x12,data);
			mYellow(data);//yellow on means successful write (2nd) to slave  
		}
		else
		{
			mRedOFF;
			mYellowOFF;
		}
		*/
	}
}

